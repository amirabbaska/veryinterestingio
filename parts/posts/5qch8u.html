<li class="post" data-handle="5qch8u">
	<div class="overview">
		<a class="source" href="https://www.reddit.com/r/askscience/comments/5qch8u/how_do_i_use_a_fair_6sided_die_to_generate_a/" target="_blank" title="Reddit thread where this comes from"><i class="fa fa-external-link" aria-hidden="true"></i></a>
		<h2>
			<span class="tags tag-Mathematics">Mathematics</span>
			<a href="/posts/5qch8u" onclick="return false">How do I use a fair 6-sided die to generate a random number from 1 to 100, with each outcome occurring with the same probability?</a>
		</h2>
		<!--<span class="date">2017-01-29</span>-->
		<span class="is-new">NEW</span>
	</div>

		<div class="question"><span class="qa" title="Question">Q:</span><div class="markdown"><p>How do I use a fair 6-sided die to generate a random number from 1 to 100, with each outcome occurring with the same probability?</p></div></div>

	<div class="comment-section">
		<div class="answers-placeholder">
			<div class="answers">
	<div class="answer" data-handle="dcy576i">
		<a class="author" href="https://www.reddit.com/user/Midtek" target="_blank">Midtek</a>
		<span class="qa" title="Answer">A:</span><div class="markdown"><p>One idea is to let the roll-1 be a digit in the base-6 expansion of a number. So if the roll is <em>n</em>, record the digit <em>n</em>-1. All integers from 1 to 100 can be expressed with 3 base-6 digits. So you need to roll the die 3 times.</p>
<p>Now, of course, it's possible to get numbers that are greater than 100. Indeed, there are 6^(3) = 216 numbers you can get by this process. If you get any number greater than 100 just try again. (Or you can have the numbers 101 through 200 correspond to 1 through 100, and then only try again if you get a number from 201 to 215 or 0.) Then all numbers from 1 to 100 have an equal chance of being rolled.</p>
<p>For example, if your three rolls are (3, 1, 6), you record the digits as 205<em><em>6</em></em>, which is equal to 77<em><em>10</em></em>. If your three rolls are (5, 2, 3), you record the digits as 412<em><em>6</em></em>, which is equal to 152<em><em>10</em></em> (which is 52<em><em>10</em></em> in our modified game). But if your three rolls are (6, 5, 5), you record the digits as 544<em><em>6</em></em>, which is equal to 208<em><em>10</em></em>, and so you try again. The chance of having to try again is 16/216 = 2/27, or about 7.4%. Thus the expected number of rolls is 3*(27/25) = 3.24. So you shouldn't expect to have try again too many times.</p>
<p>I'm sure there is probably some other very clever way, but that's the first that comes to mind.</p>
<hr />
<p>Another option is to divide the numbers 1-100 into 5 equal groups (1-20, 21-40, etc.). Roll the die once. If you get a 6, roll again. Otherwise, your roll puts you in one of the 5 groups (roll 1 for 1-20, roll 2 for 21-40, etc.). Then divide your group into 5 more groups (so 1-20 is now divided into 1-4, 5-8, etc.). Roll the die a second time. If you get a 6, roll again. Otherwise, your roll puts you in a new subgroup (roll 1 for 1-4, roll 2 for 5-8, etc.). Then roll the die a 3rd time, rolling again if you get 5 or 6. Your final roll gives you the number in the final group.</p>
<p>So if your rolls are (3, 5, 2), ignoring any rerolls, that gives you the subgroups 41-60, then 57-60, then finally 58. The expected number of rolls needed to get a result is (6/5) + (6/5) + (6/4) = 3.9. You can probably modify the scheme by keeping track of your rerolls to determine later rolls, or maybe just by being cleverer about the divisions, to get a smaller expected number of rolls.</p>
<hr />
<p><strong>edit:</strong> An interesting question is whether there is an optimal method (in the sense that it minimizes the expected number of rolls) and what that method is. Clearly any such method needs <em>at least</em> 3 rolls. Just 2 rolls gives you 36 possibilities, which is too few to distinguish between 100 numbers. But 3 rolls gives you 216 possibilities. My first method based on base-6 representations tries to &quot;waste&quot; as few of the 216 possibilities as possible by having each of the 100 numbers correspond to 2 possible roll configurations. But you have to waste 16 of them. So the question then becomes whether there is a method that utilizes those 16 wasted possibilities. I would not be surprised if 3.24 expected rolls really is the best you can do.</p>
<p>Generalize this method to the problem of using a <em>d</em>-sided die to get a uniformly distributed integer from 1 to <em>n</em>. With my method, you need at least <em>r</em> rolls, where <code>[; r = \left\lceil\log_d(n)\right\rceil ;]</code>, which is the smallest integer <em>r</em> such that <code>[; d^r \geq n ;]</code>. Then the expected number of rolls for my method is</p>
<p><code>[; E = r\cdot\frac{d^r/n}{\left\lfloor d^r/n \right\rfloor} ;]</code></p>
<p>(Note that for <em>n</em> = <em>d</em>^(<em>m</em>), we get <em>r</em> = <em>m</em>, and the whole thing simplifies to <em>E</em> = <em>m</em>, as expected.)</p>
<p><strong>Problem:</strong> Any method must have <code>[; E \geq r = \left\lceil\log_d(n)\right\rceil ;]</code>. But is the expression for <em>E</em> above optimal?</p>
<hr />
<p><strong>edit2:</strong> The problem has been solved! <a href="https://www.reddit.com/r/askscience/comments/5qch8u/how_do_i_use_a_fair_6sided_die_to_generate_a/dczwsvz/" target="_blank">See this post</a> by /u/ericGraves and the follow-up comments.</p>
<p>(Note that the notation used in his post and below is slightly different from the notation I have used previously.)</p>
<p>If we want to use an <em>s</em>-sided die to generate uniformly distributed integers from 1 to <em>d</em>, then the optimal method (in the sense that it has the least expected number of rolls) is a minor modification of the first scheme I proposed based on base-6 expansions, and the optimum number of expected rolls is</p>
<p><code>[; E = d\left(\sum_{j=1}^{\infty}{jx_js^{-j}}\right) ;]</code></p>
<p>where *x*<em><em>j</em></em> is the <em>j</em>th digit in the greedy base-<em>s</em> expansion of 1/<em>d</em>. In the case <em>d</em> = 100 and <em>s</em> = 6, we get an expected value of about 3.16, slightly better than my initial method that gives 3.24.</p></div>		<div class="replies-controls">
			<a class="show-replies" href="javascript:void(0)">show replies...</a>
			<a class="hide-replies" href="javascript:void(0)">hide replies...</a>
		</div>
		<div class="replies-placeholder"></div>
	</div>
	<a class="less-answers upper" href="javascript:void(0)">less answers...</a>
	<div class="answer" data-handle="dcym4i9">
		<a class="author" href="https://www.reddit.com/user/Zagaroth" target="_blank">Zagaroth</a>
		<span class="qa" title="Answer">A:</span><div class="markdown"><p>Roll 1:  Find your Base of 0, 20, 40, 60, or 80 (dividing the range of 1-100 into 5 sections)</p>
<blockquote>
<p>1 =  0<br />
2 = 20<br />
3 = 40<br />
4 = 60<br />
5 = 80<br />
6 =  Reroll</p>
</blockquote>
<p>Roll 2: break up the 20 number range into 5 sets of 4: </p>
<blockquote>
<p>1 = 1-4<br />
2 = 5-8<br />
3 = 9-12<br />
4 = 13-16<br />
5 = 17-20<br />
6 = Reroll</p>
</blockquote>
<p>Roll 3: Find the specific number from the Roll 2 set  </p>
<blockquote>
<p>1,2,3, or 4 = the 1st, 2nd, 3rd, or 4th number in the set from Roll 2<br />
5 or 6 = Reroll</p>
</blockquote>
<p>Now add the Base to the specific number. If you can specify the order of the die, such as designating different colored dice specifically as Die 1, Die 2, and Die 3, you can roll all three dice at once.</p>
<p>Examples to follow once the bot replies:</p>
<p>[[3d6]]<br />
[[3d6]]<br />
[[3d6]]<br />
[[3d6]]<br />
[[3d6]]<br />
[[3d6]]  </p>
<p>+/u/RollMe </p></div>		<div class="replies-controls">
			<a class="show-replies" href="javascript:void(0)">show replies...</a>
			<a class="hide-replies" href="javascript:void(0)">hide replies...</a>
		</div>
		<div class="replies-placeholder"></div>
	</div>
	<div class="answer" data-handle="dcy64j3">
		<a class="author" href="https://www.reddit.com/user/CuddlePirate420" target="_blank">CuddlePirate420</a>
		<span class="qa" title="Answer">A:</span><div class="markdown"><p>We can make this simpler by asking how to use a 6 sided die to generate a number 1 through 10 (or 0 through 9).</p>
<p>Roll 2d6.  If the number on the first die is 6, re-roll until it is 1-5.  If the second die is even, add 5 to the first roll.  Now subtract 1 from the total.  This gives us a value between 0 and 9.  Do this twice.  Multiply the first value by 10 and add the two together.  This gives you a normally distributed random number from 0-99, or add 1 to the final total to get 1-100.</p>
<p>Ex: We roll 2d6, we get a 4 and 3.  3 is odd, so we ignore it.  Subtract 1, we get 3.  3 is our first number.  We roll 2d6 again and get a 6 and a 2.  We re-roll the 6 and get a 3.  Since the 2 is even, we add 5 to the 3, so we get 3+5 = 8.  Subtract 1, we get 7.  7 is our second number.  Multiply 3 by 10 and add the 7, we get 37 as our random number from 0-99, or 38 from 1-100.</p></div>		<div class="replies-controls">
			<a class="show-replies" href="javascript:void(0)">show replies...</a>
			<a class="hide-replies" href="javascript:void(0)">hide replies...</a>
		</div>
		<div class="replies-placeholder"></div>
	</div>
	<div class="answer" data-handle="dcymtek">
		<a class="author" href="https://www.reddit.com/user/NewAeon" target="_blank">NewAeon</a>
		<span class="qa" title="Answer">A:</span><div class="markdown"><p>role 1 dice. if you get a 6, re-roll, the result is 2n-2, 2n-1. Now roll a second time to determine if you pick the first or second number. For example:</p>
<p>If you roll a 1 you get 0,1.</p>
<p>If you roll a 2 you get 2,3.</p>
<p>If you roll a 3 you get 4,5.</p>
<p>If you roll a 4 you get 6,7.</p>
<p>If you roll a 5 you get 8,9.</p>
<p>Now roll again, if you roll 1-3 it is the lower number, if it s 4-6 it is the higher number</p>
<p>Now you have generated your tens column, do the same thing again to generate your ones column. Four rolls (except for the occasional reroll of a 6) to get a number from 00 to 99. Treat 00 as 100.</p></div>		<div class="replies-placeholder"></div>
	</div>
	<div class="answer" data-handle="dcygohv">
		<a class="author" href="https://www.reddit.com/user/bu11fr0g" target="_blank">bu11fr0g</a>
		<span class="qa" title="Answer">A:</span><div class="markdown"><p>Perhaps fastest nearly 100% efficiency:
Similar to midtech, roll 3 dice.
Use base 6 to generate a number 1-216
1-200, divide by 2 to get random number 1-100</p>
<p>201-212, subtract 200 then divide by 2 to get a number 1-6.
Use this number and 2 dice rolls as above. </p>
<p>213-216, subtract 212 to generate a base 4 number.
When thus happens twice, a number 1-16 is generated.
1-12 generate a die roll as above.
13-16 generates a base 4 number that can be recycled into this loop. </p></div>		<div class="replies-controls">
			<a class="show-replies" href="javascript:void(0)">show replies...</a>
			<a class="hide-replies" href="javascript:void(0)">hide replies...</a>
		</div>
		<div class="replies-placeholder"></div>
	</div>
</div>		</div>
		<div class="more-less">
			<a class="collapse" href="javascript:void(0)">collapse</a>
			<a class="more-answers" href="javascript:void(0)">4 more answers...</a>
			<a class="less-answers lower" href="javascript:void(0)">less answers...</a>
			&nbsp;
		</div>
	</div>
	<a class="show" href="/posts/5qch8u" onclick="return false"><span>show</span></a>
</li>
